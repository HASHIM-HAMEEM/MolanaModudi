rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow read access to ALL collections for debugging
    match /{document=**} {
      allow read: if true;
    }

    // Restrict writes (adjust as needed)
    match /books/{bookId} { allow write: if request.auth != null; }
    match /volumes/{volumeId} { allow write: if request.auth != null; }
    match /chapters/{chapterId} { allow write: if request.auth != null; }
    match /headings/{headingId} { allow write: if request.auth != null; }
    match /reading_progress/{userId} { allow write: if request.auth != null && request.auth.uid == userId; }
    match /users/{userId}/bookmarks/{bookmarkId} { allow write: if request.auth != null && request.auth.uid == userId; }
    // Add other specific write rules as needed
  }
}